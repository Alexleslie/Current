# TCP协议头设计
TCP传送的数据单位是报文段，一个报文段又包含协议头和数据段  
协议头最少是4字节

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          Source Port          |       Destination Port        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        Sequence Number                        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    Acknowledgment Number                      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Data |           |U|A|P|R|S|F|                               |
    | Offset| Reserved  |R|C|S|S|Y|I|            Window             |
    |       |           |G|K|H|T|N|N|                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |           Checksum            |         Urgent Pointer        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    Options                    |    Padding    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                             data                              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    
## 字段介绍
#### 源端口（Source Port）与目的端口（Destination Port）
传输层的复用（进程共同使用传输层）和分用（从传输层分发到各个进程）是通过端口号来实现的。

#### 序号字段
TCP是面向字节流的，所以TCP需要为数据流中的每个字节都编上编号。  
序号字段指的是本报文段发送的数据的第一个字节的序号

#### 确认号字段
期望收到对方下一个报文段的数据的第一个字节的序号。  
表示目前已经收到序号N-1之前的数据都已经收到的

#### 数据偏移
首部长度，指的是数据离报文段的开始有多远

#### 保留字段
保留为今后使用

#### 紧急字段
表示紧急字段有效，它告诉系统报文段中有紧急数据需要发送

#### 确认位
在连接建立之后，所有报文段都必须要把ACK置为1

#### 推送位
表示系统需要尽快地交付给应用进程。而不是等待整个缓存填满后再交付

#### 复位位
表示TCP连接出现严重差错，必须释放连接，重新建立连接

#### 同步位
表示这是一个连接请求报文或者是连接接收报文

#### 终止位
表示报文段发送方的数据已发送完成，并要求释放传输连接

#### 窗口字段
表示现在允许发送方发送的数据量。因为接收方的数据缓存空间是有限的，故用窗口值作为接收方让发送方设置其发送窗口大小的依据

#### 校验和
校验和校验的范围包括首部和数据

#### 紧急指针字段
指出本报文段中紧急数据共有多少字节

#### 选项字段
目前只有MSS，告诉对方本端点在一个报文段中所能够接受的最大数据长度

#### 填充字段
为了让首部是4B的整数倍



