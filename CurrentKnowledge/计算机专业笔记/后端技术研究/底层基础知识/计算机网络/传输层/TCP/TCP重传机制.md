# 重传机制
## 基于计时器的重传
为每个报文设定一个超时时间(RTO, 根据RTT和真实网络延迟计算)，假设超过RTO还没有收到ACK就重新发送。  
对TCP来说，超时重传意味着网络阻塞（RTO往往大于两倍的RTT），一旦发生这种情况，TCP不仅会重传对应报文，还会降低当前的数据发送速率，因为TCP 会认为当前网络发生了拥塞。


## 快速重传
快速重传机制基于接收端的反馈信息来引发重传，而非重传计时器超时。  
快速重传指的是：假设接收方收到非期望顺序的报文，会重复给发送方发送期望的ACK，如果发送方连续收到三个重复ACK（认为该报文已经丢失），就会重传报文，而不需要等待计时器超时。

> 基于计时器的重传往往要等待很长时间。

## 快速重传优化
解决*如何确认需要重传哪些报文*
- 带选择确认的重传 SACK（Selective Acknowledgment）：简单来讲就是在快速重传的基础上，返回最近收到的报文段的序列号范围。
- 重复SACK（DSACK）：这个机制是在 SACK 的基础上，额外携带信息，告知发送方有哪些数据包自己重复接收了。DSACK 的目的是帮助发送方判断，是否发生了包失序、ACK 丢失、包重复或伪重传。让TCP可以更好的做网络流控。


